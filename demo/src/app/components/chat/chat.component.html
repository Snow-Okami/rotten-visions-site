<div class="chat-window">
  <div class="body">
    <div class="menu col">
      <div class="header">
        <h3>{{user.fname}} {{user.lname}}</h3>
      </div>
      <div class="user-list">
        <div class="search row">
          <div class="col">
            <img src="http://127.0.0.1:3333/upload/avatar/add-user.png" alt="user" class="user-img" />
          </div>
          <div class="recent-msg col">
            <h4>New Conversation</h4>
          </div>
        </div>
        <ul class="all-chats">
          <li class="row" *ngFor="let o of chatList" (click)="getMessage(o)" [ngClass]="{'selected': o.selected}">
            <div class="profile-cover col">
              <img src="http://127.0.0.1:3333/upload/avatar/female.png" alt="user" class="user-img" />
            </div>
            <div class="recent-msg col">
              <h4>{{o.fname}} {{o.lname}}</h4>
              <p class="recent-msg-text">{{o.lastText | trimword: 20}}</p>
            </div>
          </li>
        </ul>
      </div>
    </div>
    <div class="message col">
      <div class="header" (click)="closeMessageView()" [ngClass]="{'extrapadding': !msgview}">
        <h3 *ngIf="msgview">{{recipient.fname}} {{recipient.lname}}</h3>
      </div>
      <div class="message-list" *ngIf="!msgview">
        <ul class="all-chats no-user">
          <li class="no-user-text">No user choosen!</li>
        </ul>
      </div>
      <div class="message-list" *ngIf="msgview">
        <ul class="all-chats">
          <li *ngFor="let m of messages" [ngClass]="{'left': m.createdBy === recipient.username, 'text-message-list': true}">
            <div [ngClass]="{'left': m.createdBy === recipient.username, 'text-message': true}">
              {{m.text}}
            </div>
          </li>
          <li *ngIf="showTyping.status" [ngClass]="{'left': true, 'text-message-list': true}">
            <div [ngClass]="{'left': true, 'text-message': true, 'text-typing': true}">
              {{showTyping.text}}
            </div>
          </li>
        </ul>
        <div class="input">
          <input type="text" [(ngModel)]="text" (keydown)="onKey($event)" (keyup)="onEnter($event)" (focusout)="onFocusout($event)" placeholder="Send a message" class="chat-input" />
        </div>
      </div>
    </div>
  </div>
</div>
